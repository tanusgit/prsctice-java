<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<link rel="stylesheet" type="text/css" href="How%20to%20use%20the%20dmesg%20command%20--%20by%20The%20Linux%20Information%20Project%20(LINFO)_files/belug1.css">

<title>How to use the dmesg command -- by The Linux Information Project (LINFO)</title></head>

<body bgcolor="#ffffff">

<a href="http://www.linfo.org/index.html">LINFO</a>
<br><center><h1>The dmesg Command</h1></center><br>

<table width="100%"><tbody><tr><td width="10%"></td><td width="80%">

<br>

<p>
The <i>dmesg</i> <a href="http://www.linfo.org/command.html">command</a> is used to write the <i>kernel messages</i> in <a href="http://www.linfo.org/linuxdef.html">Linux</a> and other <a href="http://www.linfo.org/unix-like.html">Unix-like</a> <a href="http://www.linfo.org/operating_system.html">operating systems</a> to <a href="http://www.linfo.org/standard_output.html"><i>standard output</i></a> (which by default is the display screen). 
</p>

<p>
A <a href="http://www.linfo.org/kernel.html"><i>kernel</i></a> is the core of an operating system. It is the first part of the operating system that is loaded  into <a href="http://www.linfo.org/memory.html">memory</a> when a <a href="http://www.linfo.org/computer.html">computer</a> <a href="http://www.linfo.org/boot.html"><i>boots up</i></a>
 (i.e., starts up), and it controls virtually everything on a system. 
The numerous messages generated by the kernel that appear on the display
 screen as a computer boots up show the hardware devices that the kernel
 detects and indicate whether it is able to configure them. 
</p>

<p>
dmesg obtains its <a href="http://www.linfo.org/data.html">data</a> by reading the <i>kernel ring buffer</i>. A <a href="http://www.linfo.org/buffer.html"><i>buffer</i></a>
 is a portion of a computer's memory that is set aside as a temporary 
holding place for data that is being sent to or received from an 
external device, such as a <a href="http://www.linfo.org/hdd.html">hard disk drive</a> (HDD), printer or keyboard. A <i>ring buffer</i> is a buffer of fixed size for which any new data added to it overwrites the oldest data in it. 
</p>

<p>
dmesg can be very useful when troubleshooting or just trying to obtain 
information about the hardware on a system. Its basic syntax is
</p>

<blockquote>
<p>
<code>dmesg [options]</code>
</p>
</blockquote>

<p>
Invoking dmesg without any of its <a href="http://www.linfo.org/option.html">options</a>
 (which are rarely used) causes it to write all the kernel messages to 
standard output. This usually produces far too many lines to fit into 
the display screen all at once, and thus only the final messages are 
visible. However, the output can be <a href="http://www.linfo.org/redirection.html"><i>redirected</i></a> to the <i>less</i> command through the use of a <a href="http://www.linfo.org/pipes.html"><i>pipe</i></a> (designated by the vertical bar <a href="http://www.linfo.org/character.html">character</a>), thereby allowing the startup messages to be viewed one screenful at a time: 
</p>

<blockquote>
<p>
<code> dmesg | less</code>
</p>
</blockquote>

<p>
less allows the output to be moved forward one screenful at a time by pressing the SPACE bar, backward by pressing the <i>b</i> key and removed by pressing the <i>q</i> key. (The <i>more</i> command could have been used here instead of the <i>less</i> command; however, <i>less</i> is newer than <i>more</i> and has additional functions, including the ability to return to previous pages of the output.)
</p>

<p>
When a user encounters a problem with the system, it can be convenient to write the output of dmesg to a <a href="http://www.linfo.org/file.html">file</a>
 and then send that file by e-mail to a system administrator or other 
knowledgeable person for assistance. For example, the output could be 
redirected to a file named <i>boot_messages</i> using the <i>output redirection operator</i> (designated by a rightward facing angle bracket) as follows: 
</p>

<blockquote>
<p>
<code>dmesg &gt; boot_messages</code>
</p>
</blockquote>

<p>
Because of the length of the output of dmesg, it can be convenient to pipe its output to <a href="http://www.linfo.org/grep.html"><i>grep</i></a>, a <a href="http://www.linfo.org/filters.html">filter</a> which searches for any lines that contain the <a href="http://www.linfo.org/string.html"><i>string</i></a> (i.e., sequence of characters) following it. The <i>-i</i> option can be used to tell grep to ignore the <i>case</i> (i.e., <a href="http://www.linfo.org/lower_case.html">lower case</a> or upper case) of the letters in the string. For example, the following command lists all references to <a href="http://www.linfo.org/usb.html">USB</a> (universal serial bus) devices in the kernel messages:
</p>

<blockquote>
<p>
<code>dmesg | grep -i usb</code>
</p>
</blockquote>


<p>
And the following tells dmesg to show all <a href="http://www.linfo.org/serial_port.html">serial ports</a> (which are represented by the string <i>tty</i>): 
</p>

<blockquote>
<p>
<code>dmesg | grep -i tty</code>
</p>
</blockquote>

<p>
The dmesg and grep combination can also be used to show how much <i>physical memory</i> (i.e., <a href="http://www.linfo.org/ram.html">RAM</a>) is available on the system:
</p>

<blockquote>
<p>
<code>dmesg | grep -i memory</code>
</p>
</blockquote>

<p>
The following command checks to confirm that the HDD(s) is running in DMA (direct memory access) mode:
</p>

<blockquote>
<p>
<code>dmesg | grep -i dma</code>
</p>
</blockquote>

<p>
The output of dmesg is maintained in the log file <i>/var/log/dmesg</i>, and it can thus also be easily viewed by reading that file with a <a href="http://www.linfo.org/text%20editor.html">text editor</a>, such as <a href="http://www.linfo.org/vi/index.html"><i>vi</i></a> or <a href="http://www.linfo.org/gedit.html"><i>gedit</i></a>, or with a command such as <a href="http://www.linfo.org/cat.html"><i>cat</i></a>, e.g.,
</p>

<blockquote>
<p>
<code> cat /var/log/dmesg | less</code>
</p>
</blockquote>




<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>

<p class="copy">Created May 13, 2005. Updated January 12, 2007.<br>
Copyright Â© 2005 - 2007 The Linux Information Project. All Rights Reserved.</p>

</td><td width="10%"></td></tr></tbody></table>


</body></html>