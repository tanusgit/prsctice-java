<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<link rel="stylesheet" type="text/css" href="How%20to%20use%20the%20watch%20command,%20by%20The%20Linux%20Information%20Project%20(LINFO)_files/belug1.css">

<title>How to use the watch command, by The Linux Information Project (LINFO)</title></head>

<body bgcolor="#ffffff">

<a href="http://www.linfo.org/index.html">LINFO</a>

<br><br><center><h2>The watch Command</h2></center><br>

<table width="520" align="center"><tbody><tr><td>



<p> 
<i>watch</i> is used to run any designated <a href="http://www.linfo.org/command.html">command</a> at regular intervals. It displays its output on a <a href="http://www.linfo.org/console.html"><i>console</i></a> (i.e., all-text mode display) or <a href="http://www.linfo.org/terminal_window.html"><i>terminal window</i></a> (i.e., a window in a <a href="http://www.linfo.org/gui.html">GUI</a> that emulates a console) that is temporarily cleared of all other content (i.e., <a href="http://www.linfo.org/prompt.html">prompts</a>, commands and results of commands). This makes it easy to observe the changing output of a command over time.
</p>

<p>
The basic syntax of watch is 
</p>

<blockquote>
<p>
<code>watch [option(s)] command</code>
</p>
</blockquote>

<p>
When used without any of its few <a href="http://www.linfo.org/option.html">options</a>, watch executes the specified command every two seconds. The command can include any options and <a href="http://www.linfo.org/argument.html">arguments</a> (i.e., <a href="http://www.linfo.org/file.html">file</a>
 names or other input data) that would normally be used with it. The top
 line in the output includes the frequency of the reports, the command 
inclusive of any options and arguments, and the current date and time.
</p>

<p>
The time interval between reports can be changed from its default two seconds by using the <i>-n</i> option followed by an integer which represents the desired number of seconds. For example, <a href="http://www.linfo.org/memory.html">memory</a> usage in mega<a href="http://www.linfo.org/byte.html">bytes</a> can be monitored with the <a href="http://www.linfo.org/free.html"><i>free</i></a> command using its <i>-m</i> option and the latest values will reported every five seconds:
</p>

<blockquote>
<p>
<code>watch -n 5 free -m</code>
</p>
</blockquote>

<p>
The <i>-d</i>, or <i>--difference</i>, option will highlight the differences between successive updates. Following this by <i>=cumulative</i> makes the highlighting <i>sticky</i>; that is, all positions that have ever changed remain highlighted.
</p>

<p>
Thus, for example, watch could be used with the <i>ls</i> command and its <i>-l</i> (i.e., <i>long</i> or verbose) option in either of the following to monitor changes in a <a href="http://www.linfo.org/directory.html">directory</a> named <i>clients</i>:         
</p>

<blockquote>
<p>
<code>watch -d ls -l clients</code>
</p>

<p>
<code>watch -d=cumulative ls -l clients</code>
</p>
</blockquote>

<p>
watch can also be employed for finer grained monitoring by using it with a <i>pipeline</i> of commands (i.e., two or more commands connected by <a href="http://www.linfo.org/pipe.html"><i>pipes</i></a>).
 The pipeline needs to be enclosed in quotes (either single or double) 
so that watch will act on the output of the entire pipeline (rather than
 act just on the first command in it and then pipe its output to the 
next command). 
</p>

<p>
Thus, for example, the following could be used to monitor the creation and deletion of files which are owned by a user named <i>janis</i> and are in the <a href="http://www.linfo.org/current_directory.html">current directory</a>:
</p>

<blockquote>
<p>
<code>watch -d 'ls -l | fgrep janis'</code>
</p>
</blockquote>

<p>
watch will continue to run until it is terminated by simultaneously 
pressing the C and Control keys or by closing the terminal window or 
console.
</p>




</td></tr></tbody></table>


<p><br></p>
<p><br></p>
<p><br></p>

<p class="copy">Created August 19, 2007.<br>
Copyright Â© 2007 The Linux Information Project. All Rights Reserved.</p>




</body></html>