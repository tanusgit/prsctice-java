<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"> 

<link rel="stylesheet" type="text/css" href="How%20to%20use%20the%20cp%20command,%20by%20The%20Linux%20Information%20Project_files/belug1.css">

<title>How to use the cp command, by The Linux Information Project</title></head>

<body bgcolor="#ffffff">

<a href="http://www.linfo.org/index.html">LINFO</a>

<br><center><h1>The cp Command</h1></center><br>

<table width="100%"><tbody><tr><td width="10%"></td><td width="80%">

<br>

<p>
The <i>cp</i> <a href="http://www.linfo.org/command.html">command</a> is
 used to copy files and directories. The copies become independent of 
the originals (i.e., a subsequent change in one will not affect the 
other). 
</p>

<p>
cp's basic syntax is 
</p>

<blockquote>
<p>
<code>cp [options] name new_name</code>
</p>
</blockquote>

<p>
As a safety precaution, by default cp only copies files and not 
directories. If a file with the same name as that assigned to the copy 
of a file (or a directory with the same name as that assigned to the 
copy of a directory) already exists, it will be overwritten (i.e., its 
contents will be lost). However, the owner, group and permissions for 
the copy become the same as those of the file with the same name that it
 replaced. The last access time of the source file and the last 
modification time of the new file are set to the time the copying was 
performed. 
</p>

<p>
When a copy is made of a file or directory, the copy must have a 
different name than the original if it is to be placed in the same 
directory as the original. However, the copy can have the same name if 
it is made in a different directory. Thus, for example, a file in the <a href="http://www.linfo.org/current_directory.html">current directory</a> (i.e., the directory in which the user is currently working) named <i>file1</i> could be copied with the same name into another directory, such as into <i>/home/john/</i>, as follows:
</p>


<blockquote>
<p>
<code>cp file1 /home/john/file1</code>
</p>
</blockquote>

<p>
Any number of files can be simultaneously copied into another directory 
by listing their names followed by the name of the directory. cp is an <i>intelligent</i> command and knows to do this when only the final <a href="http://www.linfo.org/argument.html">argument</a>
 (i.e., piece of input data) is a directory. The files copied into the 
directory will all have the same names as the originals. Thus, for 
example, the following would copy the files named <i>file2</i>, <i>file3</i> and <i>file4</i> into a directory named <i>dir1</i>:
</p>

<blockquote>
<p>
<code>cp file2 file3 file4 dir1</code>
</p>
</blockquote>

<p>
The <i>-r</i> (i.e., <i>recursive</i>) <a href="http://www.linfo.org/option.html">option</a>,
 which can also be written with an upper case R, allows directories 
including all of their contents to be copied. (Directories are not 
copied by default in order to make it more difficult for users to 
accidentally overwrite existing directories which have the same name as 
that assigned to the copy being made and which might contain critical 
directory structures or important data.) Thus, for example, the 
following command would make a copy of an existing directory called <i>dir2</i>, inclusive of all it contents (i.e., files, subdirectories, their subdirectories, etc.), called <i>dir3</i>: 
</p>

<blockquote>
<p>
<code>cp -r dir2 dir3</code>
</p>
</blockquote>

<p>
The <i>-i</i> (i.e., <i>interactive</i>) option prompts the user in the 
event that any name assigned to a copy is already in use by another file
 and that file would thus be overwritten. Entering the letter <i>y</i> (either <a href="http://www.linfo.org/lower_case.html">lower case</a>
 or upper case) in response to the prompt causes the command to 
continue; any other answer prevents the command from overwriting the 
file. Thus, for example, if it is desired to make a copy of a directory 
called <i>dir4</i> and call it <i>dir5</i> and if a directory named <i>dir4</i> already exists, the following would prompt the user prior to replacing any files with identical names in the latter directory: 
</p>

<blockquote>
<p>
<code>cp -ri dir4 dir5</code>
</p>
</blockquote>

<p>
The <i>-a</i> option preserves as much of the structure and attributes 
of the original directory and its contents as possible in the new 
directory and is thus useful for creating archives. It is similar to the
 -r option in that it copies directories recursively; however, it also 
never follows symbolic links. It is equivalent to the <i>-rdp</i> combination of options. 
</p>

<p>
All the files in a directory can be copied to another directory by using the star <i>wildcard</i>. The star <a href="http://www.linfo.org/character.html">character</a>
 represents any single character or any combination of characters. Thus,
 for example, the following would copy all of the files in a directory 
named <i>dir6</i> into another existing directory called <i>dir7</i>:  
</p>

<blockquote>
<p>
<code>cp dir6/* dir7</code>
</p>
</blockquote>

<p>
cp can also be used with the star wildcard or other pattern matching 
characters to selectively copy files and directories. For example, to 
copy all of the files in the current directory that have the <a href="http://www.linfo.org/filename_extension.html">filename extension</a> <i>.html</i> into another existing directory called <i>dir8</i>, the following would be used:
</p>

<blockquote>
<p>
<code>cp *.html dir8</code>
</p>
</blockquote>

<p>
In this case, the star wildcard represents anything whose name ends with the .html extension.  
</p>

<p>
Among the other options for cp are <i>-b</i>, which makes backup copies of each destination file,  <i>-f</i> (i.e., <i>force</i>), which removes destination files that cannot be opened and tries again, <i>-s</i>, which makes symbolic links instead of copying, <i>-u</i> (i.e., <i>update</i>), which copies only if the source file is newer than the destination file or if the destination file is missing, <i>-v</i> (i.e., <i>verbose</i>), which makes brief comments about what is going on, and <i>-x</i>, which tells cp to stay on the same <a href="http://www.linfo.org/filesystem.html">filesystem</a>.
</p>



<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>

<p class="copy">Created January 21, 2006.<br>
Copyright Â© 2006 The Linux Information Project. All Rights Reserved.</p>

</td><td width="10%"></td></tr></tbody></table>


</body></html>